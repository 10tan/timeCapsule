{"ast":null,"code":"var _s = $RefreshSig$();\n// useAuthCheck.js (or auth-check.js in your utils directory)\nimport { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { isTokenExpired } from './token-utils'; // Adjust path if needed\n\nexport function useAuthCheck(interval = 60000) {\n  _s();\n  // Default: 1 minute\n  const navigate = useNavigate();\n  useEffect(() => {\n    const checkAuth = () => {\n      if (isTokenExpired()) {\n        localStorage.removeItem('token');\n        navigate('/login');\n      }\n    };\n    checkAuth(); // Initial check\n    const timer = setInterval(checkAuth, interval);\n    return () => clearInterval(timer); // Cleanup on unmount\n  }, [navigate, interval]);\n}\n_s(useAuthCheck, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});","map":{"version":3,"names":["useEffect","useNavigate","isTokenExpired","useAuthCheck","interval","_s","navigate","checkAuth","localStorage","removeItem","timer","setInterval","clearInterval"],"sources":["/home/tanmay-kumar/Desktop/clone-2/timeCapsule/src/api/auth-check.js"],"sourcesContent":["// useAuthCheck.js (or auth-check.js in your utils directory)\nimport { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { isTokenExpired } from './token-utils'; // Adjust path if needed\n\nexport function useAuthCheck(interval = 60000) { // Default: 1 minute\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const checkAuth = () => {\n            if (isTokenExpired()) {\n                localStorage.removeItem('token');\n                navigate('/login');\n            }\n        };\n\n        checkAuth(); // Initial check\n        const timer = setInterval(checkAuth, interval);\n\n        return () => clearInterval(timer); // Cleanup on unmount\n    }, [navigate, interval]);\n}"],"mappings":";AAAA;AACA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,cAAc,QAAQ,eAAe,CAAC,CAAC;;AAEhD,OAAO,SAASC,YAAYA,CAACC,QAAQ,GAAG,KAAK,EAAE;EAAAC,EAAA;EAAE;EAC7C,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACZ,MAAMO,SAAS,GAAGA,CAAA,KAAM;MACpB,IAAIL,cAAc,CAAC,CAAC,EAAE;QAClBM,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;QAChCH,QAAQ,CAAC,QAAQ,CAAC;MACtB;IACJ,CAAC;IAEDC,SAAS,CAAC,CAAC,CAAC,CAAC;IACb,MAAMG,KAAK,GAAGC,WAAW,CAACJ,SAAS,EAAEH,QAAQ,CAAC;IAE9C,OAAO,MAAMQ,aAAa,CAACF,KAAK,CAAC,CAAC,CAAC;EACvC,CAAC,EAAE,CAACJ,QAAQ,EAAEF,QAAQ,CAAC,CAAC;AAC5B;AAACC,EAAA,CAhBeF,YAAY;EAAA,QACPF,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}