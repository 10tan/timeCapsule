{"ast":null,"code":"// import React, { useState, useEffect } from \"react\";\n// import \"bootstrap/dist/css/bootstrap.min.css\";\n// import axios from \"axios\";\n// import { useNavigate } from \"react-router-dom\";\n\n// export default function FileUploader() {\n//     const [files, setFiles] = useState([]);\n//     const [time, setTime] = useState(0);\n//     const [profileInput, setProfileInput] = useState(\"\");  // State to store profile input\n//     const navigate = useNavigate();\n\n//     useEffect(() => {\n//         const storedInput = localStorage.getItem(\"profileInput\");\n//         if (storedInput) {\n//             setProfileInput(storedInput); // Retrieve the input on mount\n//         }\n//     }, []);\n\n//     const handleFileChange = (event) => {\n//         const selectedFiles = Array.from(event.target.files);\n//         if (!selectedFiles.length) return;\n//         setFiles(selectedFiles);\n//     };\n\n//     const handleTimeChange = (event) => {\n//         setTime(parseInt(event.target.value, 10) || 0);\n//     };\n\n//     const handleUpload = async (event) => {\n//         event.preventDefault();\n//         if (!files.length) return;\n\n//         for (const file of files) {\n//             const formData = new FormData();\n//             formData.append(\"image\", file);\n//             formData.append(\"time\", time);\n//             formData.append(\"profileInput\", profileInput); // Send profile input to the backend\n\n//             try {\n//                 await axios.post(\n//                     \"http://localhost:5000/api/img\",\n//                     formData,\n//                     {\n//                         headers: {\n//                             \"Content-Type\": \"multipart/form-data\",\n//                             Authorization: `Bearer ${\n//                                 typeof window !== \"undefined\" && localStorage.getItem(\"token\")\n//                             }`,\n//                         },\n//                     }\n//                 );\n\n//                 console.log(\"Upload successful\");\n//                 navigate(`/dashboard?time=${time}`);\n//             } catch (error) {\n//                 console.error(\"Upload failed:\", error);\n//             }\n//         }\n\n//         setFiles([]);\n//         document.querySelector(\"input[type=file]\").value = \"\";\n//         setTime(0);\n//     };\n\n//     return (\n//         <div className=\"container mt-5\">\n//             <div className=\"card p-4 shadow-lg\">\n//                 <h2 className=\"text-center mb-4\">Upload Images & Videos</h2>\n\n//                 {/* Display stored input at the top */}\n//                 {profileInput && (\n//                     <div className=\"alert alert-info text-center\">\n//                         Profile Input: <strong>{profileInput}</strong>\n//                     </div>\n//                 )}\n\n//                 <input\n//                     type=\"file\"\n//                     className=\"form-control mb-3\"\n//                     accept=\"image/*, video/*\"\n//                     multiple\n//                     onChange={handleFileChange}\n//                 />\n//                 <input\n//                     type=\"number\"\n//                     className=\"form-control mb-3\"\n//                     placeholder=\"Time (seconds)\"\n//                     value={time}\n//                     onChange={handleTimeChange}\n//                 />\n//                 <button className=\"btn btn-primary\" onClick={handleUpload}>\n//                     Upload & Go to Dashboard\n//                 </button>\n//             </div>\n//         </div>\n//     );\n// }","map":{"version":3,"names":[],"sources":["/home/tanmay-kumar/Desktop/clone-2/TimeCapsule2.0/frontend/src/Dashboard/FileUploader.js"],"sourcesContent":["// import React, { useState, useEffect } from \"react\";\n// import \"bootstrap/dist/css/bootstrap.min.css\";\n// import axios from \"axios\";\n// import { useNavigate } from \"react-router-dom\";\n\n// export default function FileUploader() {\n//     const [files, setFiles] = useState([]);\n//     const [time, setTime] = useState(0);\n//     const [profileInput, setProfileInput] = useState(\"\");  // State to store profile input\n//     const navigate = useNavigate();\n\n//     useEffect(() => {\n//         const storedInput = localStorage.getItem(\"profileInput\");\n//         if (storedInput) {\n//             setProfileInput(storedInput); // Retrieve the input on mount\n//         }\n//     }, []);\n\n//     const handleFileChange = (event) => {\n//         const selectedFiles = Array.from(event.target.files);\n//         if (!selectedFiles.length) return;\n//         setFiles(selectedFiles);\n//     };\n\n//     const handleTimeChange = (event) => {\n//         setTime(parseInt(event.target.value, 10) || 0);\n//     };\n\n//     const handleUpload = async (event) => {\n//         event.preventDefault();\n//         if (!files.length) return;\n\n//         for (const file of files) {\n//             const formData = new FormData();\n//             formData.append(\"image\", file);\n//             formData.append(\"time\", time);\n//             formData.append(\"profileInput\", profileInput); // Send profile input to the backend\n\n//             try {\n//                 await axios.post(\n//                     \"http://localhost:5000/api/img\",\n//                     formData,\n//                     {\n//                         headers: {\n//                             \"Content-Type\": \"multipart/form-data\",\n//                             Authorization: `Bearer ${\n//                                 typeof window !== \"undefined\" && localStorage.getItem(\"token\")\n//                             }`,\n//                         },\n//                     }\n//                 );\n\n//                 console.log(\"Upload successful\");\n//                 navigate(`/dashboard?time=${time}`);\n//             } catch (error) {\n//                 console.error(\"Upload failed:\", error);\n//             }\n//         }\n\n//         setFiles([]);\n//         document.querySelector(\"input[type=file]\").value = \"\";\n//         setTime(0);\n//     };\n\n//     return (\n//         <div className=\"container mt-5\">\n//             <div className=\"card p-4 shadow-lg\">\n//                 <h2 className=\"text-center mb-4\">Upload Images & Videos</h2>\n\n//                 {/* Display stored input at the top */}\n//                 {profileInput && (\n//                     <div className=\"alert alert-info text-center\">\n//                         Profile Input: <strong>{profileInput}</strong>\n//                     </div>\n//                 )}\n\n//                 <input\n//                     type=\"file\"\n//                     className=\"form-control mb-3\"\n//                     accept=\"image/*, video/*\"\n//                     multiple\n//                     onChange={handleFileChange}\n//                 />\n//                 <input\n//                     type=\"number\"\n//                     className=\"form-control mb-3\"\n//                     placeholder=\"Time (seconds)\"\n//                     value={time}\n//                     onChange={handleTimeChange}\n//                 />\n//                 <button className=\"btn btn-primary\" onClick={handleUpload}>\n//                     Upload & Go to Dashboard\n//                 </button>\n//             </div>\n//         </div>\n//     );\n// }\n\n\n\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}